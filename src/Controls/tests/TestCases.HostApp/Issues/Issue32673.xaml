<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.Issue32673"
             Title="Issue 32673 - EmptyView FlowDirection">

    <VerticalStackLayout Padding="10" Spacing="10">
        <Label Text="Test: FlowDirection on CollectionView EmptyView"
               FontSize="18"
               FontAttributes="Bold"
               Margin="0,0,0,10"/>

        <Button Text="Toggle FlowDirection"
                Clicked="OnToggleFlowDirection"
                AutomationId="ToggleButton"
                HorizontalOptions="Center"/>

        <Label x:Name="StatusLabel"
               Text="FlowDirection: RightToLeft"
               AutomationId="StatusLabel"
               HorizontalOptions="Center"
               Margin="0,0,0,10"/>

        <!-- Test 1: Simple String EmptyView -->
        <Label Text="Test 1: String EmptyView" FontAttributes="Bold"/>
        <CollectionView x:Name="CollectionViewString"
                        FlowDirection="RightToLeft"
                        BackgroundColor="LightGray"
                        HeightRequest="80"
                        EmptyView="No items to display"
                        AutomationId="CollectionViewString"/>

        <!-- Test 2: View EmptyView (not templated) -->
        <Label Text="Test 2: View EmptyView" FontAttributes="Bold" Margin="0,10,0,0"/>
        <CollectionView x:Name="CollectionViewView"
                        FlowDirection="RightToLeft"
                        BackgroundColor="LightBlue"
                        HeightRequest="80"
                        AutomationId="CollectionViewView">
            <CollectionView.EmptyView>
                <StackLayout HorizontalOptions="Center" VerticalOptions="Center">
                    <Label Text="RTL Arrow: ←"
                           FontSize="16"
                           AutomationId="ViewEmptyLabel"/>
                </StackLayout>
            </CollectionView.EmptyView>
        </CollectionView>

        <!-- Test 3: Templated EmptyView -->
        <Label Text="Test 3: Templated EmptyView" FontAttributes="Bold" Margin="0,10,0,0"/>
        <CollectionView x:Name="CollectionViewTemplated"
                        FlowDirection="RightToLeft"
                        BackgroundColor="LightGreen"
                        HeightRequest="80"
                        AutomationId="CollectionViewTemplated">
            <CollectionView.EmptyViewTemplate>
                <DataTemplate>
                    <StackLayout HorizontalOptions="Center" VerticalOptions="Center">
                        <Label Text="RTL Template: ←"
                               FontSize="16"
                               AutomationId="TemplateEmptyLabel"/>
                    </StackLayout>
                </DataTemplate>
            </CollectionView.EmptyViewTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>
